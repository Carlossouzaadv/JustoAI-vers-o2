<div align="center">

# ‚öñÔ∏è JustoAI V2

### Plataforma SaaS de Gest√£o Jur√≠dica com Intelig√™ncia Artificial

[![Next.js](https://img.shields.io/badge/Next.js-15.5.3-black?logo=next.js)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-19.1.0-blue?logo=react)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.x-blue?logo=typescript)](https://www.typescriptlang.org/)
[![Prisma](https://img.shields.io/badge/Prisma-6.16.1-2D3748?logo=prisma)](https://www.prisma.io/)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind-4.0-38B2AC?logo=tailwind-css)](https://tailwindcss.com/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15+-336791?logo=postgresql)](https://www.postgresql.org/)

[Vis√£o Geral](#-vis√£o-geral) ‚Ä¢
[Funcionalidades](#-funcionalidades-principais) ‚Ä¢
[Arquitetura](#-arquitetura) ‚Ä¢
[Stack Tecnol√≥gica](#-stack-tecnol√≥gica) ‚Ä¢
[Instala√ß√£o](#-instala√ß√£o-e-setup) ‚Ä¢
[Documenta√ß√£o](#-documenta√ß√£o)

</div>

---

## üìã Vis√£o Geral

**JustoAI V2** √© uma plataforma SaaS enterprise-grade para gest√£o de processos jur√≠dicos com an√°lise inteligente por IA. O sistema automatiza an√°lise de documentos, gera√ß√£o de relat√≥rios executivos e monitoramento de processos judiciais em tempo real.

### üéØ Highlights T√©cnicos

- **238 arquivos** de c√≥digo TypeScript bem estruturado
- **~78.000 linhas** de c√≥digo com tipagem estrita
- **80+ API endpoints** RESTful com valida√ß√£o Zod
- **48 models** de banco de dados com Prisma ORM
- **6 background workers** para processamento ass√≠ncrono
- **40+ p√°ginas** de documenta√ß√£o para usu√°rio final
- **Sistema de cr√©ditos** completo com billing e webhooks

### üìä Status do Projeto

```
Arquitetura:    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100% ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
Funcionalidades: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñå 98%  ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
Testes:         ‚ñà‚ñà‚ñà‚ñà‚ñå                20%  ‚≠ê‚≠ê
Documenta√ß√£o:   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñå    82%  ‚≠ê‚≠ê‚≠ê‚≠ê
Performance:    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñå  93%  ‚≠ê‚≠ê‚≠ê‚≠ê

Status Geral:   PRONTO PARA PRODU√á√ÉO ‚úÖ
```

---

## ‚ú® Funcionalidades Principais

### ü§ñ An√°lise Inteligente com IA
- Processamento de documentos jur√≠dicos (PDF, DOCX, imagens)
- An√°lise multi-frente usando Google Gemini AI
- Extra√ß√£o autom√°tica de dados estruturados
- Sumariza√ß√£o inteligente de processos
- Sistema de cache para otimiza√ß√£o de custos

### üìä Gera√ß√£o Automatizada de Relat√≥rios
- Relat√≥rios executivos personaliz√°veis
- Gera√ß√£o agendada (semanal, quinzenal, mensal)
- M√∫ltiplos formatos de sa√≠da (PDF, DOCX)
- Templates customiz√°veis por workspace
- Delivery autom√°tico por email

### üîç Monitoramento de Processos
- Sincroniza√ß√£o autom√°tica com tribunais
- Alertas inteligentes de movimenta√ß√µes
- Timeline unificada de andamentos
- Detec√ß√£o de duplicatas
- Integra√ß√£o com APIs jur√≠dicas (Judit, etc)

### üí≥ Sistema de Cr√©ditos e Billing
- Gerenciamento de cr√©ditos por workspace
- Diferentes tipos de cr√©ditos (relat√≥rios, an√°lises)
- Sistema de rollover com caps configur√°veis
- Webhooks para pagamentos (Stripe, MercadoPago, PagSeguro)
- Telemetria e usage tracking

### üì§ Upload e Processamento em Lote
- Upload de Excel com milhares de processos
- Processamento paralelo com rate limiting
- Progress tracking em tempo real via SSE
- Valida√ß√£o inteligente de dados
- Deduplica√ß√£o autom√°tica

---

## üèóÔ∏è Arquitetura

### Vis√£o Geral

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    FRONTEND LAYER                        ‚îÇ
‚îÇ  Next.js 15 App Router + React 19 Server Components     ‚îÇ
‚îÇ  - Landing Pages (p√∫blico)                               ‚îÇ
‚îÇ  - Dashboards (Classic + Pro)                            ‚îÇ
‚îÇ  - 40+ Help Pages                                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ
             ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  MIDDLEWARE LAYER                        ‚îÇ
‚îÇ  Supabase Auth + Route Protection + CORS                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ
             ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   API ROUTES LAYER                       ‚îÇ
‚îÇ  80+ RESTful Endpoints com Zod Validation               ‚îÇ
‚îÇ  - /api/processes  - /api/reports  - /api/ai            ‚îÇ
‚îÇ  - /api/upload     - /api/credits  - /api/webhooks      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚îÇ                          ‚îÇ
      ‚Üì                          ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  SERVICES   ‚îÇ         ‚îÇ   BULL QUEUE     ‚îÇ
‚îÇ  - AI       ‚îÇ         ‚îÇ   (Redis)        ‚îÇ
‚îÇ  - PDF      ‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ  - Email    ‚îÇ                  ‚îÇ
‚îÇ  - Reports  ‚îÇ                  ‚Üì
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
       ‚îÇ                ‚îÇ   WORKERS        ‚îÇ
       ‚îÇ                ‚îÇ  - Reports       ‚îÇ
       ‚îÇ                ‚îÇ  - Sync          ‚îÇ
       ‚îÇ                ‚îÇ  - Monitor       ‚îÇ
       ‚îÇ                ‚îÇ  - Cache         ‚îÇ
       ‚îÇ                ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚Üì                         ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    DATABASE (PostgreSQL via Supabase)    ‚îÇ
‚îÇ    Prisma ORM + 48 Models + Migrations  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Padr√µes Arquiteturais

- **Layered Architecture**: Separa√ß√£o clara entre UI, API, Services, Data
- **Service Layer Pattern**: L√≥gica de neg√≥cio encapsulada em servi√ßos reutiliz√°veis
- **Background Jobs Pattern**: Workers separados com Bull Queue para tarefas ass√≠ncronas
- **Repository Pattern**: Acesso a dados via Prisma ORM
- **API-First Design**: Backend pronto para m√∫ltiplos frontends

---

## üõ†Ô∏è Stack Tecnol√≥gica

### Frontend
```typescript
{
  "framework": "Next.js 15.5.3 (App Router + RSC)",
  "react": "19.1.0",
  "styling": "Tailwind CSS 4.0 + Tailwind Animate",
  "ui_library": "Radix UI + shadcn/ui",
  "forms": "React Hook Form + Zod",
  "animations": "Framer Motion 12.23",
  "icons": "Lucide React 0.544"
}
```

### Backend
```typescript
{
  "runtime": "Node.js 20+ (Next.js API Routes)",
  "auth": "Supabase Auth (@supabase/ssr)",
  "database": "PostgreSQL 15+ (Supabase hosted)",
  "orm": "Prisma 6.16.1",
  "validation": "Zod 4.1.8",
  "uploads": "Multer 2.0.2 + Sharp 0.34"
}
```

### Processamento & Jobs
```typescript
{
  "queue": "Bull 4.16.5",
  "queue_ui": "@bull-board 6.12",
  "cache": "IORedis 5.7.0",
  "scheduler": "node-cron 4.3",
  "logging": "Winston 3.17"
}
```

### IA & An√°lise
```typescript
{
  "ai": "Google Gemini API (1.5 Flash/Pro)",
  "pdf": "pdf-parse 1.1 + pdf2pic 3.2",
  "documents": "docx 9.5.1",
  "spreadsheets": "xlsx 0.18.5",
  "automation": "Puppeteer 24.22"
}
```

### Email & Comunica√ß√£o
```typescript
{
  "email": "Resend SMTP",
  "templates": "Custom HTML templates"
}
```

### DevOps
```typescript
{
  "containerization": "Docker + Docker Compose",
  "linting": "ESLint 9 + Prettier",
  "type_checking": "TypeScript 5.x Strict Mode",
  "testing": "Jest 30.1 + ts-jest",
  "ci_cd": "GitHub Actions ready"
}
```

---

## üöÄ Instala√ß√£o e Setup

### Pr√©-requisitos

```bash
Node.js >= 20.0.0
npm >= 9.0.0
PostgreSQL 15+ (ou conta Supabase)
Redis 7+ (para workers)
```

### Quick Start

```bash
# 1. Clone o reposit√≥rio
git clone <repository-url>
cd justoai-v2

# 2. Instale as depend√™ncias
npm install

# 3. Configure vari√°veis de ambiente
cp .env.example .env.local
# Edite .env.local com suas credenciais (veja se√ß√£o abaixo)

# 4. Setup do banco de dados
npm run db:generate  # Gera Prisma Client
npm run db:migrate   # Aplica migrations
npm run db:seed      # (Opcional) Seed com dados de teste

# 5. Inicie o ambiente de desenvolvimento
npm run dev          # Servidor Next.js (porta 3000)
```

### üîß Configura√ß√£o de Vari√°veis de Ambiente

#### 1. Copiar Template

```bash
cp .env.example .env.local
```

#### 2. Preencher Credenciais

Abra o arquivo `.env.local` e configure cada vari√°vel:

**Configura√ß√µes de Banco de Dados** (Supabase)
- `DATABASE_URL`: URL de conex√£o PostgreSQL com pooling
- `DIRECT_URL`: URL direta para migrations
- `NEXT_PUBLIC_SUPABASE_URL`: URL do projeto Supabase
- `NEXT_PUBLIC_SUPABASE_ANON_KEY`: Chave p√∫blica do Supabase
- `SUPABASE_SERVICE_ROLE_KEY`: Chave privada (‚ö†Ô∏è NUNCA exponha)

**Chaves de API de IA**
- `GOOGLE_API_KEY`: Para Google Gemini AI ([obter aqui](https://makersuite.google.com/app/apikey))
- `ANTHROPIC_API_KEY`: Para Claude AI ([obter aqui](https://console.anthropic.com/))

**Autentica√ß√£o**
- `NEXTAUTH_SECRET`: Gere com `openssl rand -base64 32`
- `NEXTAUTH_URL`: URL da aplica√ß√£o (ex: http://localhost:3000)

**Email (Resend ou SMTP)**
- `SMTP_HOST`: Servidor SMTP
- `SMTP_PORT`: Porta (587 para TLS, 465 para SSL)
- `SMTP_USER`: Usu√°rio do servi√ßo
- `SMTP_PASSWORD`: Senha ou API key
- `FROM_EMAIL`: Email remetente

**Redis & Background Jobs**
- `REDIS_HOST`: Host do Redis (localhost para dev)
- `REDIS_PORT`: Porta do Redis (padr√£o 6379)
- `REDIS_PASSWORD`: Senha (vazio se sem auth)
- `BULL_BOARD_ACCESS_TOKEN`: Gere com `openssl rand -hex 32`

#### 3. ‚ö†Ô∏è IMPORTANTE - Seguran√ßa

**NUNCA commite arquivos com valores reais:**
- ‚úÖ `.env.example` pode ser commitado (s√≥ templates)
- ‚ùå `.env.local` NUNCA deve ser commitado
- ‚ùå `.env` NUNCA deve ser commitado
- ‚ùå Qualquer arquivo com chaves reais

**Se voc√™ acidentalmente commitou secrets:**
1. Remova do Git: `git rm --cached .env.local`
2. **REVOGUE imediatamente** todas as chaves expostas:
   - Supabase: Gere novas chaves no dashboard
   - Google AI: Revogue e crie nova API key
   - Anthropic: Revogue e crie nova API key
   - Resend: Gere nova API key
3. Atualize `.env.local` com novas credenciais
4. Commit a remo√ß√£o: `git commit -m "Remove .env.local - security fix"`

**Rota√ß√£o de Chaves:**
- Rotacione chaves de API periodicamente (a cada 90 dias)
- Use chaves diferentes para desenvolvimento e produ√ß√£o
- Considere usar um secrets manager (AWS Secrets Manager, HashiCorp Vault)

### Docker Setup (Recomendado)

```bash
# Inicia todos os servi√ßos (App, PostgreSQL, Redis)
docker-compose up -d

# Visualizar logs
docker-compose logs -f

# Parar servi√ßos
docker-compose down
```

### Workers (Background Jobs)

```bash
# Iniciar todos os workers
npm run workers:start

# Verificar status
npm run workers:status

# Visualizar logs
npm run workers:logs

# Parar workers
npm run workers:stop
```

---

## üìö Documenta√ß√£o

### Estrutura de Documenta√ß√£o

```
docs/
‚îú‚îÄ‚îÄ README.md                 # Este arquivo
‚îú‚îÄ‚îÄ PROJECT_OVERVIEW.md       # An√°lise t√©cnica detalhada (276 linhas)
‚îú‚îÄ‚îÄ resumo_projeto_atual.md   # An√°lise completa do projeto
‚îî‚îÄ‚îÄ src/app/help/            # 40+ p√°ginas de documenta√ß√£o do usu√°rio
```

### Comandos √öteis

```bash
# Desenvolvimento
npm run dev              # Dev server com hot reload
npm run lint             # Verificar c√≥digo
npm run db:studio        # Abrir Prisma Studio (GUI do banco)

# Database
npm run db:generate      # Gera Prisma Client ap√≥s mudan√ßas no schema
npm run db:push          # Aplica schema ao DB (desenvolvimento)
npm run db:migrate       # Cria nova migration
npm run db:migrate:prod  # Aplica migrations (produ√ß√£o)
npm run db:reset         # ‚ö†Ô∏è Reseta banco (apaga dados)
npm run db:seed          # Seed do banco com dados de teste

# Build & Produ√ß√£o
npm run build            # Build para produ√ß√£o
npm run build:optimized  # Build com otimiza√ß√£o de imagens
npm start                # Start servidor de produ√ß√£o

# Workers
npm run workers:start    # Inicia background workers
npm run workers:stop     # Para workers
npm run workers:restart  # Reinicia workers
npm run workers:status   # Status dos workers
npm run workers:logs     # Logs dos workers

# Performance & An√°lise
npm run optimize:images       # Otimiza imagens com Sharp
npm run analyze:performance   # An√°lise de performance
npm run test:responsive       # Testa responsividade

# Testes
npm test                 # Executa testes
npm run test:watch       # Modo watch
npm run test:coverage    # Cobertura de testes
```

### Endpoints Principais

#### Autentica√ß√£o
```
POST   /api/auth/login          # Login de usu√°rio
POST   /api/auth/signup         # Cadastro de usu√°rio
POST   /api/auth/logout         # Logout
```

#### Processos
```
GET    /api/processes           # Listar processos
POST   /api/processes           # Criar processo
PUT    /api/processes/:id       # Atualizar processo
DELETE /api/processes/:id       # Remover processo
POST   /api/processes/upload    # Upload em lote (Excel)
```

#### An√°lise IA
```
POST   /api/ai/analyze                    # An√°lise geral
POST   /api/ai/multi-front-analysis       # An√°lise multi-frente
POST   /api/process/:id/analysis/fast     # An√°lise r√°pida
POST   /api/process/:id/analysis/full     # An√°lise completa
GET    /api/process/:id/analysis/history  # Hist√≥rico
```

#### Relat√≥rios
```
POST   /api/reports/generate         # Gerar relat√≥rio manual
POST   /api/reports/schedule         # Agendar relat√≥rio
GET    /api/reports/history          # Hist√≥rico de relat√≥rios
GET    /api/reports/download/:id     # Download de relat√≥rio
```

#### Cr√©ditos
```
GET    /api/credits/balance      # Consultar saldo
POST   /api/credits/consume      # Consumir cr√©ditos
POST   /api/credits/purchase     # Comprar cr√©ditos
GET    /api/credits/history      # Hist√≥rico de uso
```

---

## üìÅ Estrutura do Projeto

```
justoai-v2/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ app/                    # Next.js App Router
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ (public)/          # Rotas p√∫blicas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/               # 80+ API endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/         # Dashboard principal
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ classic/           # Dashboard legado
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pro/               # Dashboard Pro
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ help/              # Documenta√ß√£o do usu√°rio
‚îÇ   ‚îú‚îÄ‚îÄ components/            # React components (67 arquivos)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui/                # Base components (shadcn/ui)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ landing/           # Landing page components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/         # Dashboard components
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ reports/           # Report components
‚îÇ   ‚îú‚îÄ‚îÄ lib/                   # Business logic (51 arquivos)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ai-model-router.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ gemini-client.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pdf-processor.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ report-generator.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ email-service.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ config/                # App configuration
‚îÇ   ‚îú‚îÄ‚îÄ contexts/              # React contexts
‚îÇ   ‚îú‚îÄ‚îÄ hooks/                 # Custom React hooks
‚îÇ   ‚îî‚îÄ‚îÄ styles/                # Global styles
‚îú‚îÄ‚îÄ lib/                       # Shared libraries
‚îÇ   ‚îú‚îÄ‚îÄ alerts/
‚îÇ   ‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îú‚îÄ‚îÄ report-templates/
‚îÇ   ‚îú‚îÄ‚îÄ telemetry/
‚îÇ   ‚îî‚îÄ‚îÄ validations/
‚îú‚îÄ‚îÄ workers/                   # Background workers (6 arquivos)
‚îÇ   ‚îú‚îÄ‚îÄ reports-worker.ts
‚îÇ   ‚îú‚îÄ‚îÄ process-monitor-worker.ts
‚îÇ   ‚îú‚îÄ‚îÄ individual-reports-worker.ts
‚îÇ   ‚îú‚îÄ‚îÄ sync-worker.ts
‚îÇ   ‚îú‚îÄ‚îÄ cache-cleanup-worker.ts
‚îÇ   ‚îî‚îÄ‚îÄ usage-aggregator-worker.ts
‚îú‚îÄ‚îÄ prisma/
‚îÇ   ‚îú‚îÄ‚îÄ schema.prisma          # Database schema (1.324 linhas)
‚îÇ   ‚îú‚îÄ‚îÄ migrations/            # Database migrations
‚îÇ   ‚îî‚îÄ‚îÄ seed.ts                # Database seeding
‚îú‚îÄ‚îÄ scripts/                   # Utility scripts
‚îú‚îÄ‚îÄ public/                    # Static assets
‚îú‚îÄ‚îÄ components/                # shadcn/ui components
‚îî‚îÄ‚îÄ ops/                       # DevOps configs
```

---

## üîí Seguran√ßa

### Implementa√ß√µes de Seguran√ßa

- ‚úÖ **Autentica√ß√£o**: Supabase Auth com JWT tokens
- ‚úÖ **Autoriza√ß√£o**: Middleware de prote√ß√£o de rotas
- ‚úÖ **Valida√ß√£o**: Zod schemas em todas as APIs
- ‚úÖ **Rate Limiting**: Prote√ß√£o contra abuse
- ‚úÖ **SQL Injection**: Prisma ORM previne inje√ß√µes
- ‚úÖ **XSS Protection**: React escapa automaticamente
- ‚úÖ **HTTPS**: For√ßado via headers de seguran√ßa
- ‚úÖ **Secrets Management**: `.env.local` exclu√≠do do Git, template `.env.example` fornecido
- ‚ö†Ô∏è **CORS**: Configurar origens permitidas (atualmente aberto)

### ‚ö†Ô∏è ATEN√á√ÉO: Rota√ß√£o de Chaves Necess√°ria

Se voc√™ est√° configurando este projeto pela primeira vez e o arquivo `.env.local` j√° continha chaves reais que foram commitadas anteriormente:

**A√á√ÉO IMEDIATA NECESS√ÅRIA:**
1. ‚úÖ `.env.local` foi removido do tracking do Git
2. ‚úÖ `.gitignore` foi configurado para prevenir futuros commits
3. ‚ö†Ô∏è **VOC√ä DEVE** revogar e regenerar TODAS as chaves de API que estavam no arquivo:
   - **Supabase**: Dashboard ‚Üí Settings ‚Üí API ‚Üí Reset keys
   - **Google AI**: [Google AI Studio](https://makersuite.google.com/app/apikey) ‚Üí Delete old key ‚Üí Create new
   - **Anthropic**: [Console Anthropic](https://console.anthropic.com/) ‚Üí Delete old key ‚Üí Create new
   - **Resend**: Dashboard ‚Üí API Keys ‚Üí Revoke ‚Üí Create new
   - **NextAuth**: Gere novo secret com `openssl rand -base64 32`
   - **Bull Board**: Gere novo token com `openssl rand -hex 32`

### Boas Pr√°ticas de Seguran√ßa

- üìã Use o arquivo `.env.example` como template
- üîÑ Rotacione chaves de API a cada 90 dias
- üîê Use diferentes credenciais para dev/staging/prod
- üö´ NUNCA commite arquivos `.env*` com valores reais
- üìä Monitore logs de acesso √† API para detectar uso indevido
- üîí Considere usar um secrets manager (AWS Secrets Manager, Vault) para produ√ß√£o

---

## üß™ Testes

```bash
# Executar testes
npm test

# Watch mode
npm run test:watch

# Coverage
npm run test:coverage
```

**Nota**: Estrutura de testes configurada com Jest. Testes implementados precisam ser expandidos.

---

## üìà Performance

### Otimiza√ß√µes Implementadas

- ‚úÖ Next.js Image Optimization
- ‚úÖ Server-Side Rendering (SSR) e Static Generation (SSG)
- ‚úÖ Compression middleware (gzip/brotli)
- ‚úÖ Redis caching
- ‚úÖ Database indexes otimizados
- ‚úÖ Code splitting autom√°tico
- ‚úÖ Lazy loading de componentes
- ‚úÖ Background jobs para opera√ß√µes pesadas

### M√©tricas Target

- Response Time: < 200ms
- Time to First Byte: < 500ms
- Largest Contentful Paint: < 2.5s
- First Input Delay: < 100ms

---

## ü§ù Contribuindo

### Workflow de Desenvolvimento

1. Clone o reposit√≥rio
2. Crie uma branch feature (`git checkout -b feature/nova-funcionalidade`)
3. Commit suas mudan√ßas (`git commit -m 'Adiciona nova funcionalidade'`)
4. Push para a branch (`git push origin feature/nova-funcionalidade`)
5. Abra um Pull Request

### Code Style

- TypeScript strict mode habilitado
- ESLint + Prettier configurados
- Commits sem√¢nticos (Conventional Commits)

---

## üìù Licen√ßa

Este √© um projeto propriet√°rio. Todos os direitos reservados.

---

## üë• Autor

**Carlo (Fullstack Developer)**

Desenvolvedor fullstack especializado em arquiteturas escal√°veis com Next.js, React, Node.js e PostgreSQL.

---

## üîó Links √öteis

- [Next.js Documentation](https://nextjs.org/docs)
- [Prisma Documentation](https://www.prisma.io/docs)
- [Supabase Documentation](https://supabase.com/docs)
- [Tailwind CSS Documentation](https://tailwindcss.com/docs)
- [shadcn/ui Components](https://ui.shadcn.com/)

---

<div align="center">

**Feito com ‚ù§Ô∏è e TypeScript**

‚≠ê Se este projeto foi √∫til, considere dar uma estrela!

</div>
